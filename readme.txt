=== Blizhost CloudCache Purge â€“ Speed, Security, and Optimization ===
Contributors: blizhost
Tags: cache, performance, security, nginx, redis
Requires at least: 4.4
Tested up to: 6.7
Requires PHP: 5.6
Stable tag: 5.0.0
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-3.0.html

Automatic Cache Clearing and CloudCache Integration to Boost Speed and Protect Your Site with Enhanced Security.

== Description ==

### ðŸš€ Blizhost CloudCache Purge: Speed, Security, and Performance for Your WordPress Site ###

<strong>Blizhost CloudCache Purge</strong> is the essential plugin for those seeking <strong>speed</strong>, enhanced <strong>security</strong>, and <strong>optimized SEO</strong> for WordPress sites. Exclusive to Blizhost customers, this plugin integrates with <strong>CloudCache</strong>, a powerful and optimized solution for <strong>high-traffic</strong> websites, designed to significantly improve performance and protect your site from threats.

= ðŸŽ¯ <strong>Why Use Blizhost's CloudCache?</strong> =

* <strong>Extreme Speed</strong>: <strong>CloudCache</strong> delivers your site's content directly from the server's RAM, enabling loading speeds up to <strong>300x faster</strong>.
* <strong>Enhanced Security</strong>: Robust protection against brute force attacks, exploitable vulnerabilities, and unauthorized access attempts to administrative pages.
* <strong>Optimized SEO</strong>: Loading speed is a crucial factor for <strong>Google rankings</strong> and other search engines. With <strong>CloudCache</strong>, your site becomes significantly faster, improving its ranking in search results.
* <strong>High Performance under Heavy Traffic</strong>: Perfect for high-traffic sites, CloudCache ensures your site remains stable and fast, even during traffic spikes.
* <strong>Built for HTTP</strong>: Unlike solutions such as <strong>Squid</strong>, <strong>Apache</strong>, or <strong>Nginx</strong>, <strong>CloudCache</strong> is 100% focused on the <strong>HTTP</strong> protocol, maximizing performance for WordPress sites.

= ðŸ”’ <strong>Top-notch Security and Performance</strong> =

<strong>CloudCache</strong> offers advanced protection, with features similar to services like <strong>Sucuri</strong> and <strong>Cloudflare</strong>, ensuring your WordPress site is secure and running at peak performance:

* <strong>Brute Force Attack Protection</strong>: Prevents malicious login attempts to the WordPress admin area by limiting the number of failed access attempts.
* <strong>Vulnerability Exploit Defense</strong>: Automatically monitors and blocks attempts to exploit known vulnerabilities in WordPress and its plugins.
* <strong>DDoS Mitigation</strong>: Protects your site from distributed denial-of-service (DDoS) attacks, keeping it available even during malicious traffic surges.
* <strong>Security Rules</strong>: Advanced filtering to block malicious traffic before it reaches your site.
* <strong>Sensitive Page Protection</strong>: Additional security layer for critical areas, such as login and admin pages.

= ðŸ’¡ <strong>Immediate Benefits of Blizhost CloudCache Purge</strong> =

* <strong>Automated and Intelligent Caching</strong>: Whenever you publish, edit, or delete a post, page, or comment, the cache is automatically updated, ensuring that changes are quickly and accurately reflected.
* <strong>Full WordPress Compatibility</strong>: The plugin seamlessly integrates your WordPress with Blizhost's <strong>CloudCache</strong>, optimizing both speed and security.
* <strong>SEO Improvement</strong>: Site speed is a critical factor for SEO, and with <strong>CloudCache</strong>, you'll experience fast and efficient loading, helping boost your rankings on Google.

= ðŸ”§ <strong>How Does Blizhost CloudCache Purge Work?</strong> =

1. <strong>Automatic and Intelligent Cache Clearing</strong>:
   * The cache is automatically updated when you make changes to content, such as posts, pages, or comments. Relevant pages like <strong>sitemaps</strong> are also refreshed, ensuring that changes are reflected.
   * When important settings like <strong>title</strong>, <strong>description</strong>, or modifications to the <strong>WordPress Customizer</strong> are made, the entire cache is cleared, ensuring that your site reflects all changes correctly.

2. <strong>Manual Cache Control</strong>:
   * The cache can be manually cleared via simple buttons in the WordPress dashboard or toolbar, giving you full control over cache behavior.

= ðŸŒŸ <strong>What is CloudCache?</strong> =

<strong>CloudCache</strong> is an exclusive technology from <strong>Blizhost</strong>, inspired by systems used by major companies like <strong>Wikipedia</strong>, <strong>The New York Times</strong>, <strong>Facebook</strong>, and <strong>Twitter</strong>. It delivers your siteâ€™s content directly from the serverâ€™s RAM, resulting in ultra-fast loading, ideal for <strong>high-traffic</strong> websites.

= ðŸ§© <strong>Full Compatibility with Plugins and Themes</strong> =

The <strong>Blizhost CloudCache Purge</strong> is fully compatible with key tools in the WordPress ecosystem, including:

* <strong>WooCommerce</strong>: For high-performance online stores.
* <strong>Cloudflare</strong>: Integration with the CDN and security features.
* <strong>All caching plugins</strong>: Including <strong>LiteSpeed Cache</strong>, <strong>W3 Total Cache</strong>, <strong>WP Rocket</strong>, and <strong>WP Super Cache</strong>.
* <strong>AMP</strong>: Full support for <strong>Accelerated Mobile Pages (AMP)</strong>.
* <strong>Page Builders</strong>: Compatible with <strong>Elementor</strong>, <strong>Divi</strong>, <strong>WPBakery</strong>, and more.
* <strong>Form Plugins</strong>: Such as <strong>Contact Form 7</strong>, <strong>Gravity Forms</strong>, <strong>WPForms</strong>, etc.

Note: This plugin was developed exclusively for <strong>Blizhost</strong> customers. Using it on other hosting providers will not bring the same benefits, as <strong>CloudCache</strong> was created to operate within our optimized infrastructure, ensuring <strong>speed</strong>, <strong>security</strong>, and support for <strong>high traffic</strong>.

== Installation ==
No WordPress configuration needed.

= Requirements =
* Pretty Permalinks enabled
* CloudCache enabled on your Blizhost account

= Languages =
* English
* Portuguese-BR

== Frequently Asked Questions ==

= Is CloudCache compatible with all WordPress plugins and themes? =
<strong>CloudCache</strong> is designed to be compatible with most WordPress plugins and themes, including popular ones like <strong>WooCommerce</strong>, <strong>Elementor</strong>, <strong>LiteSpeed Cache</strong>, and many others. However, some less optimized plugins or themes may not fully support caching technologies. These cases are rare, but itâ€™s always a good idea to use well-maintained and optimized plugins to ensure the best performance and compatibility with high-performance systems like <strong>CloudCache</strong>.

= Why doesn't every page flush when I make a new post? =
<strong>CloudCache</strong> performs an intelligent cache purge, removing only the necessary pages to ensure updates are reflected without overloading the server. When you publish a new post, the pages purged include the homepage, the post itself, associated categories and tags, pagination pages, and <strong>sitemaps</strong>, among other relevant pages. This optimizes performance while ensuring that important updates are visible to your visitors.

= Why doesn't my cache purge when I edit my theme? =
<strong>CloudCache</strong> automatically clears the cache when there are changes to your siteâ€™s <strong>content</strong>, such as editing pages, posts, or receiving comments. However, if you're simply <strong>editing</strong> the theme (e.g., modifying CSS or adjusting visual settings), the cache is not automatically cleared because the content remains the same. To reflect these changes, you can manually purge the cache. If you <strong>switch</strong> to a new theme entirely, <strong>CloudCache</strong> will automatically flush the entire cache for you.

= How do I manually purge the whole cache? =
You can manually flush the entire cache by clicking the "Purge CloudCache" button on the WordPress dashboard or using the "Blizhost CloudCache > Purge Entire Cache" option in the admin toolbar.

= I don't see a button! =
If you're using a Multisite Network and you're on the primary site, only <strong>network</strong> admins can purge the cache for the main site. In subfolder networks, flushing the main site (`example.com`) also purges all subsites (like `example.com/site1`). This is done to prevent accidental cache flushes across the network.

= Can I use this with a proxy service like Cloudflare? =
Absolutely! <strong>CloudCache</strong> is fully compatible with proxy or CDN services like <strong>Cloudflare</strong>, enhancing both the performance and security of your site.

= How do I disable CloudCache? =
You can request the removal of <strong>CloudCache</strong> by opening a support ticket in the client panel. However, keep in mind that <strong>CloudCache</strong> significantly boosts your site's speed and traffic-handling capacity, making it up to 300x faster.

== Changelog ==

= 5.0.0 =
* Enhanced security by sanitizing inputs and verifying nonces in AJAX requests and special POST handlers
* Added support for AJAX-based cache purging to improve user experience when clearing the cache
* Improved CDN image URL replacement with more robust methods, ensuring only site-hosted images are processed
* Implemented validation for image URLs before replacing them to prevent external images from being incorrectly modified
* Added custom HTTP headers to indicate the plugin's status and enhance communication with Blizhost services
* Refactored code to use server hostname and PHP SAPI, improving compatibility and security
* Updated the admin bar menu with status indicators for CloudCache and CDN services, providing visual feedback to users
* Changed the way the plugin retrieves and uses the hash and CDN domain, storing them securely using WordPress transients and options
* Added methods to generate and store the hash and CDN domain when necessary, enhancing security
* Enhanced compatibility with various caching events and hooks to ensure comprehensive cache purging
* Improved handling of SSL detection and protocol-relative URLs for better performance and reliability
* Updated plugin metadata, including plugin name and description, to reflect new features and improvements

= 4.0.6 =
* Improvement in sitemap cleaning
* Improvement in cache cleaning for scheduled posts
* Improvement in cache cleaning for posts generated by dynamic content plugins
* Improvement in cache cleaning when WooCommerce products are updated
* Implementation of total cache cleaning when there are changes in the site's title or description, WordPress updates, plugin or theme updates, or Customizer edits
* Improved compatibility and cache cleaning when changes are made to the following plugins: Yoast SEO, Advanced Custom Fields, Gravity Forms, Rank Math SEO, WP Offload Media, Slider Revolution, All in One SEO Pack, Advanced Ads, Ad Inserter, AdRotate, Google Site Kit, Insert Headers and Footers, WP QUADS, Easy Google AdSense, Advanced Ads Pro, Ads Pro Plugin, WPForms
* Code fixes to improve compatibility with the latest versions of PHP and WordPress

= 4.0.5 =
* Fixed compatibility bug with PHP 8.1

= 4.0.4 =
* Fixed an incompatibility bug that was preventing the execution of the current page when clicking on 'clear cache' and then performing actions with other plugins
* Fixed a bug where 'after_purge_url' was not obtaining the result of the request

= 4.0.3 =
* Fix bug that enabled CDN for external domains
* Enable CDN for PNG images

= 4.0.2 =
* Improved CDN resource compatibility with various themes and caching plugins
* Support for PHP version 8.1

= 4.0.1 =
* Remove version of Slider Revolution for security reasons

= 4.0.0 =
* Fixed bug that removes URL from styles and scripts due to hashed version security

= 3.9.9 =
* Remove version of WordPress from rss and header for security reasons
* Improve WordPress Security

= 3.9.8 =
* Fixed non-existent is_plugin_active function error

= 3.9.7 =
* Fixed compatibility issues with the super-cache plugin and similar

= 3.9.5 =
* Require Jetpack-connected plugin to use WordPress Image CDN feature

= 3.9.4 =
* Fixed bug where CDN did not work for http protocol
* Improved CDN url regex, filtering content through output buffer
* Added option where you can disable CDN by DISABLE_WP_CDN

= 3.9.3 =
* Improved http protocol of WordPress CDN for more compatibility

= 3.9.2 =
* Improved WordPress CDN

= 3.9.1 =
* WordPress CDN implemented

= 3.9 =
* Plugin renamed for better understanding of this tool
* Button on the admin toolbar has been improved

= 3.8 =
* Purge the pagination pages of cache when a post is created or edited

= 3.7 =
* Ignore "DONOTCACHEPAGE" on homepage and posts
* Fixed bug where it was not possible to clear the cache outside the administrative area in some situations
* Prevents requests sended to servers if the site is not hosted on Blizhost

= 3.6 =
* Fixed bug that "DONOTCACHEPAGE" was not defined under certain circumstances

= 3.5 =
* Fixed compatibility bug on sites hosted outside Blizhost (even without any effect)

= 3.4 =
* Several enhancements to make Blizhost CloudCache compatible with various Wordpress plugins and themes
* Now the CloudCache can be skipped at the backend level
* Added "DONOTCACHEPAGE" constant so plugins can specify pages that should not be cached
* Forced cache cleanup now works for the entire domain

= 3.3 =
* Improves plugin security when creating an API key if it does not exist
* Support for WP-CLI commands and PHP > 5.5
* Fix typo (on -> one)
* Correct permissions on Multisite
* Correct weird merge error
* Fix formatting in Changelog
* Allow filter for `home_url()`
* Added wp-cli commands to flush specific URLs and wildcards
* Requires wp-cli 0.25+ to work for WP 4.6+
* Update `purgePost()` to validate page_for_posts
* Add check for AMP
* Purge 'default' AMP URL as well

= 3.2 =
* Fix bug in permalinks notice
* Sends the plugin version in the request to the Blizhost server to avoid conflicts

= 3.1 =
* Fix infinite redirect loops when loading WordPress sites under CloudFlare

= 3.0 =
* Automatic purge of sitemaps implemented

= 2.9 =
* Checks if session was initialized before loading CSS

= 2.8 =
* Change purge notice so it can be dismissed
* Fix purging of deleted posts
* Fixing i18n which wasn't working and threw a error on sites without pretty permalinks

= 2.7 =
* Fixed Blizhost logo on admin bar

= 2.6 =
* Some language fixes
* Fixed font style on admin bar

= 2.5 =
* Minor fixes
* Some language fixes
* Blizhost logo changed from png to font style

= 2.4 =
* Retain query params on purge
* Do not use query part for regex purging
* Allow CloudCache IP to be filtered.
* Improve flushing for cases when there's no Post ID
* Add filter so other plugins can add events to trigger purge when they have no post ID
* Add compatibility with [Autoptimize](https://wordpress.org/plugins/autoptimize/) so it flushes CloudCache when you flush their cache

= 2.3 =
* Fixed language directory.
* New tags.
* Fixed Domain Path.

= 2.2 =
* Translated to Portuguese-BR.

= 2.1 =
* Fixed compatibilities issues.

= 2.0 =
* Several performance upgrades, security and new filters added.

= 1.0 =
* The code was clean, getting more consistent and adopting best code practices.

== Upgrade Notice ==

= 3.7 =
Versions prior to this will no longer be supported and will not clear the cache. Upgrade as soon as possible.

= 3.3 =
This version improves the security of the plugin. Upgrade as soon as possible.

== Screenshots ==

1. 'Purge CloudCache' button on the "Right Now" Dashboard
